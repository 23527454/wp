<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.thinkgem.jeesite.modules.mj.dao.DefenseParaInfoDao">
	
	<!-- 查询数据
	<select id="findList" resultType="DefenseParaInfo">
		SELECT ${sqlMap.column.toSql()}
		FROM ${sqlMap.table.toSql()}
		<where>
			${sqlMap.where.toSql()}
		</where>
		ORDER BY ${sqlMap.order.toSql()}
	</select> -->

	<select id="get" resultType="DefenseParaInfo">
		SELECT *
		FROM mj_defense_para_info
		WHERE id = #{id} and del_flag = '0'
	</select>

	<select id="getByEId" resultType="DefenseParaInfo">
		SELECT *
		FROM mj_defense_para_info
		WHERE equipment_id = #{id} and del_flag = '0'
	</select>

	<update id="deleteByEId">
		DELETE FROM mj_defense_para_info WHERE equipment_id = #{id}
	</update>

	<insert id="insert" useGeneratedKeys="true" keyProperty="id">
		INSERT INTO mj_defense_para_info
		VALUES (DEFAULT ,
		#{equipment.id},
		#{defensePos},
		#{defenseAreaType},
		#{defenseAreaBypass},
		#{defenseAreaAttr},
		#{alarmDelayTime},
		#{timeStart1},
		#{timeEnd1},
		#{timeStart2},
		#{timeEnd2},
		#{timeStart3},
		#{timeEnd3},
		#{timeStart4},
		#{timeEnd4},
		#{createBy.id},
		#{createDate},
		#{updateBy.id},
		#{updateDate},
		#{remarks},
		DEFAULT )
	</insert>

	<update id="update">
		UPDATE mj_defense_para_info SET
		defense_pos=#{defensePos},
		defense_area_type=#{defenseAreaType},
		defense_area_bypass=#{defenseAreaBypass},
		defense_area_attr=#{defenseAreaAttr},
		alarm_delay_time=#{alarmDelayTime},
		time_start1=#{timeStart1},
		time_end1=#{timeEnd1},
		time_start2=#{timeStart2},
		time_end2=#{timeEnd2},
		time_start3=#{timeStart3},
		time_end3=#{timeEnd3},
		time_start4=#{timeStart4},
		time_end4=#{timeEnd4},
		remarks=#{remarks}
		WHERE id=#{id}
	</update>
</mapper>